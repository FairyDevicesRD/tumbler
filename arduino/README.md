# arduino
このディレクトリには、Arduino サブシステム（ATmega328-AU）のスケッチ等が含まれます。

## スケッチ

### 概要

メイン CPU と /dev/ttyAMA0 を介したシリアル通信により、センサーデータの制御や LED リングの制御を行う Arduino サブシステムのスケッチ。

### ビルド

Tumbler にプリインストールされている Arduino 開発環境が前提となります。

``````````{.cpp}
$ cd sketch
$ make
$ make upload reset_stty
``````````

これにより、スケッチがビルドされ Arduino に転送されて自動的に起動します。`reset.sh` は通信経路をリセットするスクリプトであり、通常は利用する必要はありません（Tumbler 起動時にリセットする必要がありますが、そのリセットは `/etc/rc.local` スクリプトにより実行されています）

#### ファームウェアとスケッチ

Tumbler では、Arduino ファームウェアと言った場合、ATmega328-AU を Arduino として動作させるための出荷時にプリインストールされたブートローダーを指し、Arduino スケッチと言った場合、本レポジトリのソースコードを指すことにご留意ください。ブートローダーの書き換えをお客様側で行うことはサポートしておりません。

### 本スケッチ自体の開発者のための情報

[Arduino スケッチ開発者向け情報](https://github.com/FairyDevicesRD/tumbler/wiki/Arduino-%E3%82%B9%E3%82%B1%E3%83%83%E3%83%81%E9%96%8B%E7%99%BA%E8%80%85%E5%90%91%E3%81%91%E6%83%85%E5%A0%B1) を参照してください。


